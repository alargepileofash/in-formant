<!doctype html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Speech analysis for Web</title>
    <style>
      body {
        width: 100vw;
        height: 100vh;
        font-family: arial;
        margin: 0;
        padding: none;
        background: #282a36;
      }

      #container {
        display: flex; 
        flex-flow: row wrap;
        justify-content: space-evenly;
        align-items: stretch;
        align-content: stretch;
        width: 100%;
        height: 100%;
        margin: 0;
        padding: none;
      }

      #spectrogram, #fft_spectrum, #oscilloscope, #settings {
        background: black;
        border: solid 1px rgba(255, 255, 255, 32);
        margin: 0;
        padding: none;
        outline: none;
      }

      #spectrogram, #settings {
        height: calc(67% - 6px);
      }

      #fft_spectrum, #oscilloscope {
        width: calc(50% - 6px);
        height: calc(33% - 6px);
      } 

      #spectrogram {
        order: 1;
        width: calc(75% - 6px);
      }

      #settings {
        order: 2;
        width: calc(25% - 6px);
      }

      #fft_spectrum {
        order: 3;
      }

      #oscilloscope {
        order: 4;
      }

    </style>
  </head>
  <body>
    <div id="container">
      <canvas id="spectrogram" oncontextmenu="event.preventDefault()" tabindex=-1></canvas>
      <canvas id="settings" oncontextmenu="event.preventDefault()" tabindex=-1></canvas>
      <canvas id="fft_spectrum" oncontextmenu="event.preventDefault()" tabindex=-1></canvas>
      <canvas id="oscilloscope" oncontextmenu="event.preventDefault()" tabindex=-1></canvas>
    </div>
    
    <script type='text/javascript'>
      var Module = {
        preRun: [],
        postRun: [],
        doNotCaptureKeyboard: true,
      };
      window.onerror = function(event) {
        // TODO: do not warn on ok events like simulating an infinite loop or exitStatus
        alert('Exception thrown, see JavaScript console');
      };

      document.body.onclick = function(event) {
        var script = document.createElement('script');
        script.setAttribute('src', 'speech-analysis.js');
        document.body.appendChild(script);
        document.body.onclick = undefined;
      };
    </script>
  </body>
</html>


